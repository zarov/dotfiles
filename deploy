#!/bin/sh

CWD=$(pwd)

# homebrew
if test ! $(which brew)
then
    echo " Installing Homebrew"
    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

brew install git coreutils zsh neovim/neovim/neovim nginx

# zsh
echo " Linking zsh"
ln -s $CWD/zsh ~/.zsh
ln -s $CWD/zsh/zshrc ~/.zshrc

# nvim
echo " Adding plugins"
curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

echo " Linking neovim"
ln -s $CWD/vim ~/.config/nvim
ln -s $CWD/vimrc ~/.config/nvim/init.vim
mkdir ~/,local/share/nvim/undo
